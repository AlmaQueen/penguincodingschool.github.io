<head>
  <title>canvas</title>
  <script
    src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

</head>

<body>
  <canvas id="canvas" width ="800" height="800"></canvas>

<script>
var canvas = document.getElementById("canvas");
var cx = canvas.getContext("2d");

x=0;y=0;
var xSpeed=0;
var ySpeed=0;

//Sword
function drawSword() {
cx.fillStyle = "LightGray";
cx.fillRect(100+x,200+y,50,200);
cx.fillStyle = "Chocolate";
cx.fillRect (75+x,350+y,100,25);
cx.fillStyle = "Blue";
cx.fillRect(100+x,375+y,50,25);
}

function clearCanvas() {
  cx.clearRect(0,0,canvas.width, canvas.height);
}

//drawSword();
function moveSword() {
  clearCanvas();
  drawSword(x,y );
  x+=xSpeed;y+=ySpeed;
 }


//Key Commands
function setDirection (dir) {
  if (dir=== "up") {
    xSpeed=0;
    ySpeed=-5;}
  else if (dir==="down") {
    xSpeed=0;
    ySpeed=5;}
  else if (dir==="left") {
    xSpeed=-5;
    ySpeed=0;}
  else if (dir==="right") {
    xSpeed=5;
    ySpeed=0;}
  else if (dir==="stop") {
    xSpeed=0;
    ySpeed=0;}
  else if (dir==="diagonal-down-right") {
    xSpeed=5;
    ySpeed=5;}
  else if (dir==="diagonal-up-left") {
    xSpeed=-5;
    ySpeed=-5;}
}

////Key Codes or Dictionary for jQuery. Other Keycode dictionaries or on keycode.info
var keyActions = {
  32:"stop",
  37:"left",
  38:"up",
  39:"right",
  40:"down",
  8:"diagonal-down-right",
  13:"digonal-up-left"
};
//jQuery Syntax

$("body").keydown(function(event) {
  var dir=keyActions[event.keyCode];
  setDirection(dir)
});

setInterval(moveSword,100);

</script>
</body>